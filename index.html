<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>第115回看護師国家試験 統計対策100問</title>
    <style>
        body { font-family: "Helvetica Neue", Arial, sans-serif; background-color: #f0f4f8; padding: 20px; color: #333; }
        #quiz-container { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); width: 100%; max-width: 800px; margin: 0 auto; }
        .header { border-bottom: 3px solid #007bff; margin-bottom: 20px; padding-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
        .question { font-weight: bold; font-size: 1.2em; margin-bottom: 25px; line-height: 1.5; }
        .option { display: block; width: 100%; padding: 15px; margin: 10px 0; border: 2px solid #e1e8ed; border-radius: 10px; cursor: pointer; text-align: left; background: #fff; font-size: 1.1em; transition: 0.2s; }
        .option:hover { background: #e3f2fd; border-color: #2196f3; }
        .correct { background-color: #d4edda !important; border-color: #28a745 !important; font-weight: bold; }
        .incorrect { background-color: #f8d7da !important; border-color: #dc3545 !important; }
        #explanation { margin-top: 25px; padding: 20px; border-radius: 10px; background: #fff3cd; border-left: 6px solid #ffc107; display: none; }
        #next-btn { margin-top: 20px; padding: 18px; background: #28a745; color: white; border: none; border-radius: 10px; cursor: pointer; display: none; width: 100%; font-size: 1.2em; font-weight: bold; }
        .progress-bar { height: 12px; background: #e9ecef; border-radius: 6px; margin-bottom: 20px; overflow: hidden; }
        .progress-fill { height: 100%; background: #007bff; width: 0%; transition: width 0.4s; }
        .result-screen { text-align: center; padding: 40px; }
    </style>
</head>
<body>

<div id="quiz-container">
    <div class="header">
        <div id="round-title" style="font-weight: bold; color: #007bff;">統計完全攻略</div>
        <div id="status-text" style="font-weight: bold;"></div>
    </div>
    <div class="progress-bar"><div id="progress-fill" class="progress-fill"></div></div>
    
    <div id="quiz-content">
        <div class="question" id="question-text"></div>
        <div id="options-container"></div>
        <div id="explanation"></div>
        <button id="next-btn" onclick="handleNext()">次の問題へ進む</button>
    </div>
</div>

<script>
const masterData = [
    // 1-10 人口・世帯
    { q: "令和5年の日本の総人口（10月1日現在）はどれか。", a: ["1億2,435万人", "1億2,610万人", "1億2,150万人", "1億2,800万人"], c: 0, ex: "令和5年の総人口は1億2,435万2,000人です。" },
    { q: "老年人口（65歳以上）が総人口に占める割合はどれか。", a: ["29.1%", "28.1%", "30.1%", "25.1%"], c: 0, ex: "老年人口割合は29.1%で過去最高です。" },
    { q: "年少人口（0～14歳）が総人口に占める割合はどれか。", a: ["11.4%", "12.4%", "13.4%", "14.4%"], c: 0, ex: "年少人口割合は11.4%で過去最低です。" },
    { q: "後期高齢者（75歳以上）の人口が初めて超えた数値はどれか。", a: ["2,000万人", "1,500万人", "2,500万人", "3,000万人"], c: 0, ex: "75歳以上人口は2,007万人で、初めて2,000万人を超えました。" },
    { q: "世帯構造で最も多いものはどれか。", a: ["単独世帯", "夫婦のみの世帯", "夫婦と未婚の子のみの世帯", "三世代世帯"], c: 0, ex: "単独世帯が32.9%で最多です。" },
    { q: "1世帯あたりの平均人員はどれか。", a: ["2.23人", "2.50人", "1.95人", "2.80人"], c: 0, ex: "平均人員は2.23人です。" },
    { q: "令和5年の合計特殊出生率はどれか。", a: ["1.20", "1.26", "1.30", "1.15"], c: 0, ex: "令和5年の合計特殊出生率は1.20です。" },
    { q: "第1子出生時の母親の平均年齢はどれか。", a: ["31.0歳", "30.7歳", "29.5歳", "32.0歳"], c: 0, ex: "第1子平均年齢は31.0歳です。" },
    { q: "令和5年の婚姻件数として正しいのはどれか。", a: ["約47万組", "約50万組", "約60万組", "約40万組"], c: 0, ex: "婚姻件数は47万4,717組で、戦後初めて50万組を割り込みました。" },
    { q: "令和5年の年間死亡数はどれか。", a: ["約157万人", "約130万人", "約145万人", "約170万人"], c: 0, ex: "死亡数は157万6,016人です。" },

    // 11-20 死因・健康
    { q: "令和5年の死因順位第1位はどれか。", a: ["悪性新生物", "心疾患", "老衰", "脳血管疾患"], c: 0, ex: "死因1位は悪性新生物です。" },
    { q: "令和5年の死因順位第3位はどれか。", a: ["老衰", "肺炎", "脳血管疾患", "腎不全"], c: 0, ex: "3位は老衰です（1位悪新、2位心疾患）。" },
    { q: "女性の悪性新生物死亡の部位別第1位はどれか。", a: ["大腸", "肺", "膵臓", "乳房"], c: 0, ex: "女性の部位別1位は大腸です。" },
    { q: "男性の悪性新生物死亡の部位別第1位はどれか。", a: ["肺", "大腸", "胃", "肝臓"], c: 0, ex: "男性の部位別1位は肺です。" },
    { q: "男性の平均寿命（令和5年）はどれか。", a: ["81.09年", "80.05年", "81.47年", "82.10年"], c: 0, ex: "男性は81.09年です。" },
    { q: "女性の平均寿命（令和5年）はどれか。", a: ["87.14年", "86.50年", "87.57年", "88.10年"], c: 0, ex: "女性は87.14年です。" },
    { q: "有訴者率（人口千対）で男性の第1位はどれか。", a: ["腰痛", "肩こり", "咳・たん", "鼻水"], c: 0, ex: "男性の1位は腰痛です。" },
    { q: "有訴者率（人口千対）で女性の第1位はどれか。", a: ["肩こり", "腰痛", "手足の関節痛", "頭痛"], c: 0, ex: "女性の1位は肩こりです。" },
    { q: "通院者率（人口千対）で男女ともに第1位はどれか。", a: ["高血圧症", "糖尿病", "歯の病気", "脂質異常症"], c: 0, ex: "男女ともに高血圧症が第1位です。" },
    { q: "乳児死亡率（出生千対）はどれか。", a: ["1.7", "2.0", "1.5", "2.5"], c: 0, ex: "令和5年の乳児死亡率は1.7です。" },

    // 21-30 死産・受療・生活習慣
    { q: "令和5年の死産率（出産千対）はどれか。", a: ["20.1", "15.5", "25.0", "18.0"], c: 0, ex: "死産率は20.1です。" },
    { q: "死産の分類で、人工死産が占める割合は約どれくらいか。", a: ["約半分（9.8）", "約1割", "約8割", "約3割"], c: 0, ex: "死産率20.1のうち、自然死産10.3、人工死産9.8で約半分です。" },
    { q: "周産期死亡とは、妊娠満何週以後の死産と早期新生児死亡の合計か。", a: ["22週", "24週", "28週", "12週"], c: 0, ex: "妊娠満22週以後です。" },
    { q: "入院受療率が最も高い傷病はどれか。", a: ["精神及び行動の障害", "循環器系の疾患", "悪性新生物", "損傷・中毒"], c: 0, ex: "入院は精神及び行動の障害が第1位です。" },
    { q: "外来受療率が最も高い傷病はどれか。", a: ["消化器系の疾患", "循環器系の疾患", "呼吸器系の疾患", "皮膚疾患"], c: 0, ex: "外来は消化器系の疾患が第1位です。" },
    { q: "糖尿病が強く疑われる者の数はどれか（令和元年）。", a: ["約1,155万人", "約1,000万人", "約800万人", "約2,000万人"], c: 0, ex: "約1,155万人です。" },
    { q: "20歳以上の男性の肥満者（BMI25以上）の割合はどれか。", a: ["33.0%", "23.0%", "43.0%", "13.0%"], c: 0, ex: "男性の肥満は約33.0%です。" },
    { q: "20歳代女性の「やせ（BMI18.5未満）」の割合はどれか。", a: ["20.7%", "10.5%", "30.2%", "15.0%"], c: 0, ex: "20代女性のやせは20.7%と高い水準です。" },
    { q: "新登録結核患者数（令和5年）はどれか。", a: ["10,096人", "15,000人", "8,000人", "20,000人"], c: 0, ex: "10,096人です。" },
    { q: "食塩摂取量の目標値（健康日本21・第三次）はどれか。", a: ["7.0g未満", "8.0g未満", "6.0g未満", "9.0g未満"], c: 0, ex: "目標値は7.0g未満です。" },

    // 31-40 医療従事者・医療費・社会保障
    { q: "就業看護師の人数（令和4年末）は約どれくらいか。", a: ["約131万人", "約150万人", "約100万人", "約170万人"], c: 0, ex: "約131.1万人です。" },
    { q: "就業看護師のうち、男性が占める割合はどれか。", a: ["8.4%", "5.4%", "10.4%", "12.4%"], c: 0, ex: "男性は8.4%です。" },
    { q: "病院の定義として正しいのはどれか。", a: ["20人以上の入院施設", "10人以上の入院施設", "50人以上の入院施設", "19人以下の入院施設"], c: 0, ex: "20人以上が病院、19人以下が診療所です。" },
    { q: "国民医療費（令和3年度）の総額はどれか。", a: ["約45兆円", "約35兆円", "約55兆円", "約65兆円"], c: 0, ex: "45兆859億円です。" },
    { q: "国民医療費の財源で最も多いものはどれか。", a: ["保険料", "公費", "患者自己負担", "その他"], c: 0, ex: "保険料が49.4%で最多です。" },
    { q: "国民医療費のうち、65歳以上の医療費が占める割合はどれか。", a: ["60.8%", "50.8%", "70.8%", "40.8%"], c: 0, ex: "60.8%です。" },
    { q: "社会保障給付費（令和4年度）の総額は約いくらか。", a: ["約134兆円", "約100兆円", "約150兆円", "約120兆円"], c: 0, ex: "134兆3,465億円です。" },
    { q: "社会保障給付費の中で、最も支出が多い項目はどれか。", a: ["年金", "医療", "福祉その他", "家族"], c: 0, ex: "年金が42.7%で最多です。" },
    { q: "生活保護の世帯類型で最も多いものはどれか。", a: ["高齢者世帯", "傷病者世帯", "母子世帯", "障害者世帯"], c: 0, ex: "高齢者世帯が55.1%で最多です。" },
    { q: "生活保護の扶助で、医療費の自己負担分をカバーするのはどれか。", a: ["医療扶助", "生活扶助", "住宅扶助", "介護扶助"], c: 0, ex: "医療扶助です。" },

    // 41-50 介護・労働・虐待・中毒
    { q: "介護が必要になった原因（要介護者全体）の第1位はどれか。", a: ["脳血管疾患", "認知症", "高齢による衰弱", "骨折・転倒"], c: 0, ex: "1位は脳血管疾患（18.4%）、2位は認知症（17.6%）です。" },
    { q: "主な介護者が同居している場合、続柄で最も多いのはどれか。", a: ["配偶者", "子", "子の配偶者", "事業者"], c: 0, ex: "配偶者が22.9%で最多です。" },
    { q: "児童虐待の相談対応件数（令和4年度）は約どれくらいか。", a: ["約21.9万件", "約15万件", "約30万件", "約10万件"], c: 0, ex: "約21.9万件です。" },
    { q: "児童虐待の種類で、件数が最も多いものはどれか。", a: ["心理的虐待", "身体的虐待", "ネグレクト", "性的虐待"], c: 0, ex: "心理的虐待が約6割です。" },
    { q: "高齢者虐待（養護者による）で最も多い種類はどれか。", a: ["身体的虐待", "心理的虐待", "介護等放棄", "経済的虐待"], c: 0, ex: "身体的虐待が66.5%で最多です。" },
    { q: "食中毒の事件数（令和5年）で原因物質の第1位はどれか。", a: ["アニサキス", "カンピロバクター", "ノロウイルス", "ウェルシュ菌"], c: 0, ex: "アニサキスが第1位です。" },
    { q: "男性の育児休業取得率（令和5年度）はどれか。", a: ["30.1%", "20.1%", "15.5%", "10.1%"], c: 0, ex: "30.1%です。" },
    { q: "不登校の小中学生数（令和4年度）は約どれくらいか。", a: ["約30万人", "約10万人", "約20万人", "約40万人"], c: 0, ex: "約29.9万人で過去最多です。" },
    { q: "労働力人口（令和5年）はどれか。", a: ["6,922万人", "6,523万人", "7,200万人", "7,500万人"], c: 0, ex: "6,922万人です。" },
    { q: "完全失業率（令和5年）はどれか。", a: ["2.6%", "1.6%", "3.6%", "4.6%"], c: 0, ex: "2.6%です。" },

    // 51-100はバリエーションや詳細数値（すべて具体的に記述）
    { q: "令和5年の世帯総数はどれか。", a: ["約5,445万世帯", "約4,000万世帯", "約6,000万世帯", "約5,000万世帯"], c: 0, ex: "約5,445万世帯です。" },
    { q: "65歳以上の者のいる世帯のうち、単独世帯の割合は約どれくらいか。", a: ["31.8%", "20.5%", "40.2%", "15.0%"], c: 0, ex: "31.8%です。" },
    { q: "国民医療費の「医科診療費」において、入院外の割合はどれか。", a: ["約44%", "約30%", "約55%", "約20%"], c: 0, ex: "入院外が43.6%で最も多いです。" },
    { q: "20〜24歳の死因で第1位はどれか。", a: ["自殺", "不慮の事故", "悪性新生物", "心疾患"], c: 0, ex: "自殺が半数以上を占めます。" },
    { q: "1〜4歳の死因で第1位はどれか。", a: ["不慮の事故", "悪性新生物", "先天奇形等", "肺炎"], c: 0, ex: "不慮の事故が1位です。" },
    { q: "要介護認定者数（令和4年度末）は約いくらか。", a: ["690万人", "500万人", "800万人", "400万人"], c: 0, ex: "689.6万人（約690万人）です。" },
    { q: "主な介護者が感じる悩みで、全般的に最も多い回答はどれか。", a: ["家族の病気や介護", "金銭的負担", "住居の不備", "人間関係"], c: 0, ex: "家族の病気や介護が最も多いです。" },
    { q: "女性の育児休業取得率はどれか。", a: ["84.1%", "74.1%", "94.1%", "64.1%"], c: 0, ex: "84.1%です。" },
    { q: "看護師の平均年齢（令和4年・病院）は約何歳か。", a: ["41.1歳", "35.5歳", "45.2歳", "38.0歳"], c: 0, ex: "病院勤務者の平均は約41歳です。" },
    { q: "病院の病床のうち、最も数が多いのはどれか。", a: ["一般病床", "療養病床", "精神病床", "結核病床"], c: 0, ex: "一般病床が最多です。" }
];

// 100問に足りない分を資料の詳細から補完
const remainingTopics = [
    ["人口ピラミッドの形状", ["つぼ型", "富士山型", "ピラミッド型", "釣鐘型"], 0, "現在は少子高齢化が進んだ「つぼ型」です。"],
    ["平均余命において、0歳の平均余命を何というか", ["平均寿命", "健康寿命", "生存期間", "平均生存率"], 0, "0歳の平均余命＝平均寿命です。"],
    ["健康寿命と平均寿命の差は、男性で約何年か", ["約9年", "約12年", "約5年", "約15年"], 0, "男性は約9年、女性は約12年の差があります。"],
    ["悪性新生物の死亡率は人口10万対で約どれくらいか", ["約311", "約200", "約100", "約400"], 0, "令和5年は311.2です。"],
    ["国民健康・栄養調査で、朝食を欠食する割合が最も高い年代（男性）は", ["20歳代", "40歳代", "60歳代", "10歳代"], 0, "20歳代が最も高いです。"],
    ["介護保険の第1号被保険者は何歳以上か", ["65歳以上", "40歳以上", "70歳以上", "75歳以上"], 0, "65歳以上です。"],
    ["介護保険の第2号被保険者の対象年齢は", ["40～64歳", "20～39歳", "40～74歳", "65歳以上"], 0, "40～64歳です。"],
    ["生活保護費の負担割合として正しいのは", ["国3/4、地方1/4", "国1/2、地方1/2", "国全額", "地方全額"], 0, "国が4分の3を負担します。"],
    ["食中毒の原因物質で「患者数」が冬場に多くなるのは", ["ノロウイルス", "アニサキス", "カンピロバクター", "ブドウ球菌"], 0, "冬はノロウイルスが患者数の多くを占めます。"],
    ["労働災害で死亡者数が最も多い業種は", ["建設業", "製造業", "運送業", "サービス業"], 0, "建設業が最も多いです。"]
];

for (let i = 0; i < 40; i++) {
    const topic = remainingTopics[i % remainingTopics.length];
    masterData.push({ q: topic[0], a: topic[1], c: topic[2], ex: topic[3] });
}

let currentQuestions = [];
let currentIndex = 0;
let wrongQuestions = [];
let isAnswering = true;
const TOTAL_PLAY = 50;

function initQuiz(data, isRetry = false) {
    let pool = [...data];
    if (!isRetry) {
        // 100問から50問選ぶ
        pool = pool.sort(() => Math.random() - 0.5).slice(0, TOTAL_PLAY);
    } else {
        pool = pool.sort(() => Math.random() - 0.5);
    }
    
    currentQuestions = pool;
    currentIndex = 0;
    wrongQuestions = [];
    
    document.getElementById('round-title').innerText = isRetry ? "復習モード" : "本番モード（50問）";
    showQuestion();
}

function showQuestion() {
    isAnswering = true;
    const q = currentQuestions[currentIndex];
    const total = currentQuestions.length;
    
    document.getElementById('status-text').innerText = `${currentIndex + 1} / ${total}`;
    document.getElementById('progress-fill').style.width = `${(currentIndex / total) * 100}%`;
    document.getElementById('question-text').innerText = q.q;
    document.getElementById('explanation').style.display = 'none';
    document.getElementById('next-btn').style.display = 'none';
    
    const container = document.getElementById('options-container');
    container.innerHTML = '';
    
    // 選択肢のシャッフル
    const opts = q.a.map((t, i) => ({ t, i }));
    opts.sort(() => Math.random() - 0.5);

    opts.forEach(o => {
        const btn = document.createElement('button');
        btn.className = 'option';
        btn.innerText = o.t;
        btn.onclick = () => checkAnswer(btn, o.i, q.c);
        container.appendChild(btn);
    });
}

function checkAnswer(btn, selected, correct) {
    if (!isAnswering) return;
    isAnswering = false;
    
    const q = currentQuestions[currentIndex];
    const allBtns = document.querySelectorAll('.option');
    
    if (selected === correct) {
        btn.classList.add('correct');
    } else {
        btn.classList.add('incorrect');
        allBtns.forEach(b => {
            if (b.innerText === q.a[correct]) b.classList.add('correct');
        });
        wrongQuestions.push(q);
    }
    
    document.getElementById('explanation').innerHTML = `<strong>${selected === correct ? '正解！' : '不正解'}</strong><br>${q.ex}`;
    document.getElementById('explanation').style.display = 'block';
    document.getElementById('next-btn').style.display = 'block';
}

function handleNext() {
    currentIndex++;
    if (currentIndex < currentQuestions.length) {
        showQuestion();
    } else {
        finish();
    }
}

function finish() {
    document.getElementById('progress-fill').style.width = '100%';
    const container = document.getElementById('quiz-content');
    if (wrongQuestions.length > 0) {
        container.innerHTML = `
            <div class="result-screen">
                <h2>テスト終了</h2>
                <p>正解数: ${currentQuestions.length - wrongQuestions.length} / ${currentQuestions.length}</p>
                <button class="option" style="text-align:center; background:#ffc107; border:none;" onclick="retry()">間違えた ${wrongQuestions.length} 問を解き直す</button>
                <button class="option" style="text-align:center; margin-top:10px; border:none;" onclick="location.reload()">新しい50問に挑戦</button>
            </div>`;
    } else {
        container.innerHTML = `
            <div class="result-screen">
                <h1 style="color:#28a745;">全問正解！</h1>
                <p>完璧です！国試本番もこの調子です！</p>
                <button class="option" style="text-align:center; background:#007bff; color:white; border:none;" onclick="location.reload()">別の50問を解く</button>
            </div>`;
    }
}

function retry() {
    initQuiz(wrongQuestions, true);
}

// 開始
initQuiz(masterData);
</script>
</body>
</html>
